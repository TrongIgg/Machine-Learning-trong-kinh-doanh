<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang ch·ªß | Car Store</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        /* Th√™m styles cho recommendation banner */
        .recommendation-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        .recommendation-banner h2 {
            margin: 0 0 10px 0;
            font-size: 24px;
        }
        .match-score {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            margin-top: 10px;
        }
        .car-card {
            position: relative;
        }
        .recommended-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #4CAF50;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: bold;
            z-index: 10;
        }
    </style>
</head>
<body id="home" class="gjs-t-body cls-ych1rt">
<header id="ibeuw" class="site-header">
    <nav id="ikh2o" class="navbar">
        <a href="{{ url_for('index') }}" id="i9u09" class="brand-link">
            <div id="idkk7" class="brand-mark"><span id="i9s6l" class="brand-initials">CS</span></div>
            <span id="inlwl" class="brand-name">LND</span>
        </a>
        <ul id="isqqf" class="desktop-nav-links">
            <li id="i8qle"><a href="{{ url_for('index') }}" id="iycwh" class="gjs-t-link nav-link-home">Trang ch·ªß</a>
            </li>
            <li id="isxlt"><a href="{{ url_for('index') }}#listings" id="i78jj"
                              class="gjs-t-link nav-link-inventory">Xe</a></li>
            <li id="ikqaw"><a href="{{ url_for('index') }}#contact" id="i0o0e" class="gjs-t-link nav-link-contact">Li√™n
                h·ªá</a></li>
        </ul>
        <div id="i247d" class="desktop-nav-cta">
            <a href="{{ url_for('index') }}#listings" id="iwqhi" class="gjs-t-button primary-cta-button">Xem xe</a>
        </div>
        <div id="login-cart-buttons" aria-label="Account and shopping actions">
            {% if user_logged_in %}
            <div style="position: relative; display: inline-block;">
                <button id="user-menu-btn"
                        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 500;">
                    üë§ {{ user_name }}
                </button>
                <div id="user-dropdown"
                     style="display: none; position: absolute; top: 50px; right: 0; background: white; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); min-width: 200px; z-index: 1000;">
                    <a href="{{ url_for('survey') }}"
                       style="display: block; padding: 12px 20px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">Kh·∫£o
                        s√°t</a>
                    <a href="{{ url_for('logout') }}"
                       style="display: block; padding: 12px 20px; color: #e74c3c; text-decoration: none;">ƒêƒÉng xu·∫•t</a>
                </div>
            </div>
            {% else %}
            <a href="{{ url_for('login') }}" id="itioq6" class="gjs-t-button lcb-btn lcb-login-button">ƒêƒÉng nh·∫≠p</a>
            {% endif %}
            <a href="#checkout" aria-label="Gi·ªè h√†ng" id="iqnrtd" class="gjs-t-button lcb-btn lcb-cart-button">
                <img src="https://cdn.grapesjs.com/workspaces/cmg4lzb1x0yadjsx3aod02odv/assets/6ea0a7b6-3878-4c21-a80a-f34b2f790030__172526pricetagicon.png"
                     alt="Gi·ªè h√†ng" id="iitfac" class="lcb-cart-icon"/>
            </a>
        </div>
    </nav>
</header>

<main id="ijjnn">
    <section id="iwqy4" class="hero-section">
        <div id="irihi" class="hero-content">
            <h1 id="iu5wd" class="gjs-t-h1 hero-title">T√¨m Xe M∆° ∆Ø·ªõc C·ªßa B·∫°n</h1>
            <p id="i12wz" class="hero-subtitle">Kh√°m ph√° b·ªô s∆∞u t·∫≠p xe sedan, SUV v√† xe th·ªÉ thao ƒë∆∞·ª£c ch·ªçn l·ªçc k·ªπ
                c√†ng.</p>

            <!-- Search Block -->
            <section id="hero-search-block" aria-label="T√¨m ki·∫øm xe">
                <div class="hsb-head"><h2 id="io99g9" class="gjs-t-h2">T√¨m ki·∫øm xe</h2></div>
                <form method="get" id="hsb-search-form" role="search" class="hsb-form">
                    <div class="hsb-input-wrap">
                        <label for="hsb-search-input" class="hsb-visually-hidden">T√¨m xe theo m·∫´u, h√£ng...</label>
                        <img src="https://api.iconify.design/lucide:search.svg?width=18&height=18" alt="T√¨m ki·∫øm"
                             class="hsb-input-icon"/>
                        <input type="search" id="hsb-search-input" placeholder="Nh·∫≠p t√™n xe, h√£ng, lo·∫°i xe..."
                               autocomplete="off" class="gjs-t-border hsb-input"/>
                    </div>
                    <button type="submit" class="gjs-t-button hsb-search-btn">
                        <img src="https://api.iconify.design/lucide:search.svg?color=white&width=18&height=18"
                             alt="T√¨m"/>
                        T√¨m ki·∫øm
                    </button>
                    <a href="#" id="hsb-search-clear" class="gjs-t-link hsb-clear">X√≥a</a>
                </form>
                <p id="hsb-search-summary" aria-live="polite" class="hsb-summary"></p>
                <p id="hsb-no-results" class="hsb-no-results">Kh√¥ng t√¨m th·∫•y xe ph√π h·ª£p. Th·ª≠ t·ª´ kh√≥a kh√°c.</p>
            </section>

            <div id="iav9i" class="hero-actions">
                <a href="{{ url_for('index') }}#listings" id="ipcxg" class="gjs-t-button hero-primary-button">Xem xe</a>
                <a href="{{ url_for('index') }}#listings" id="idhek" class="gjs-t-link hero-secondary-link">Danh
                    s√°ch</a>
            </div>
        </div>
        <div id="ie1tj" class="hero-media-wrapper">
            <div id="imdsk" class="gjs-t-border hero-image-container">
                <img src="https://app.grapesjs.com/api/assets/random-image?query=%22luxury%20sports%20car%20on%20coastal%20road%2C%20sunset%22&w=1200&h=675"
                     alt="Xe sang tr·ªçng" width="1200" height="675" id="itbjp" class="hero-image"/>
            </div>
        </div>
    </section>
    <!-- Recommended Cars Section - CH·ªà HI·ªÇN TH·ªä KHI C√ì KH·∫¢O S√ÅT -->
    {% if survey_completed and recommended_cars %}
    <section style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 40px 20px; margin: 20px 0;">
        <div class="listings-container">
            <!-- Banner -->
            <div class="recommendation-banner" style="margin-bottom: 30px;">
                <h2>üéØ Top 6 xe ph√π h·ª£p nh·∫•t v·ªõi b·∫°n</h2>
                <p style="margin: 10px 0; font-size: 16px;">
                    D·ª±a tr√™n kh·∫£o s√°t:
                    {% if session.survey_data.body_types %}
                    <strong>{{ session.survey_data.body_types|join(', ') }}</strong>
                    {% endif %}
                </p>
                <div class="match-score">
                    Budget: ${{ "{:,}".format(session.survey_data.budget_min|int) }} - ${{
                    "{:,}".format(session.survey_data.budget_max|int) }}
                </div>
            </div>

            <!-- Grid hi·ªÉn th·ªã xe -->
            <div class="listings-grid">
                {% for car in recommended_cars %}
                <article class="gjs-t-border car-card"
                         style="border: 3px solid #4CAF50; box-shadow: 0 5px 15px rgba(76,175,80,0.3);">
                    <!-- Badge ƒëi·ªÉm match -->
                    <span class="recommended-badge"
                          style="background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);">
                    ‚ú® {{ (car.final_score * 100)|int }}% Match
                </span>

                    <div class="car-image-container">
                        <img loading="lazy"
                             src="{{ url_for('static', filename=car.image_path) }}"
                             alt="{{ car.brand }} {{ car.model }}"
                             width="600" height="400"
                             class="car-image"
                             onerror="this.src='{{ url_for('static', filename='img/default.jpg') }}'"/>
                    </div>

                    <div class="car-card-body">
                        <h3 class="car-model">{{ car.brand }} {{ car.model }}</h3>

                        <p class="car-description">
                            {% if car.bodytype %}{{ car.bodytype|title }}{% endif %}
                            {% if car.fueltype %}| {{ car.fueltype|title }}{% endif %}
                            {% if car.veenginepower and car.veenginepower > 0 %}| {{ car.veenginepower|int }} HP{% endif
                            %}
                        </p>

                        <!-- Gi√° -->
                        <div class="car-price-row" style="margin-bottom: 10px;">
                        <span class="car-price" style="font-size: 24px; color: #4CAF50;">
                            ${{ "{:,}".format((car.price * 1000)|int) }}
                        </span>
                            <button onclick='showCarInfo({{ car|tojson }})'
                                    class="gjs-t-button car-details-button"
                                    style="border: none; cursor: pointer;">
                                Chi ti·∫øt
                            </button>
                        </div>

                        <!-- L√ù DO N√äN CH·ªåN -->
                        <div style="background: #f0f8ff; padding: 10px; border-radius: 8px; margin-top: 10px; border-left: 3px solid #4CAF50;">
                            <strong style="color: #333; font-size: 14px;">üí° T·∫°i sao ph√π h·ª£p?</strong>
                            <ul style="margin: 5px 0 0 0; padding-left: 20px; font-size: 13px; color: #555;">
                                {% if car.rule_score > 0.8 %}
                                <li>ƒê√°p ·ª©ng {{ (car.rule_score * 100)|int }}% ti√™u ch√≠ c·ªßa b·∫°n</li>
                                {% endif %}

                                {% if session.survey_data.body_types and car.bodytype|lower in
                                (session.survey_data.body_types|map('lower')|list) %}
                                <li>ƒê√∫ng lo·∫°i xe b·∫°n mu·ªën ({{ car.bodytype }})</li>
                                {% endif %}

                                {% if session.survey_data.budget_min <= car.price <= session.survey_data.budget_max %}
                                <li>Trong t·∫ßm ng√¢n s√°ch c·ªßa b·∫°n</li>
                                {% endif %}

                                {% if car.knn_score > 0.7 %}
                                <li>Th√¥ng s·ªë k·ªπ thu·∫≠t g·∫ßn v·ªõi mong mu·ªën</li>
                                {% endif %}

                                {% if session.survey_data.preferred_brands and car.brand|lower in
                                (session.survey_data.preferred_brands|map('lower')|list) %}
                                <li>Th∆∞∆°ng hi·ªáu b·∫°n ∆∞a th√≠ch ({{ car.brand }})</li>
                                {% endif %}
                            </ul>
                        </div>

                        <!-- Breakdown ƒëi·ªÉm s·ªë (optional - c√≥ th·ªÉ ·∫©n) -->
                        <details style="margin-top: 8px; font-size: 12px; color: #666;">
                            <summary style="cursor: pointer;">üìä Xem chi ti·∫øt ƒëi·ªÉm</summary>
                            <div style="padding: 5px 0;">
                                <div>‚Ä¢ Ph√π h·ª£p ti√™u ch√≠: {{ (car.rule_score * 100)|int }}%</div>
                                <div>‚Ä¢ ƒê·ªô g·∫ßn specs: {{ (car.knn_score * 100)|int }}%</div>
                                <div>‚Ä¢ T·ªïng ƒëi·ªÉm: <strong>{{ (car.final_score * 100)|int }}%</strong></div>
                            </div>
                        </details>
                    </div>
                </article>
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}
    <!-- Car Listings Section - DYNAMIC -->
    <section id="listings" class="car-listings-section">
        <div id="id0wx" class="listings-container">
            <div id="ipelp" class="listings-header">
                <h2 id="ixkiz" class="gjs-t-h2 listings-title">Danh s√°ch xe m·ªõi nh·∫•t</h2>
                <a href="{{ url_for('index') }}" id="ir5tc" class="gjs-t-link listings-view-all-link">Xem t·∫•t c·∫£</a>
            </div>
            <div id="ioh9n" class="listings-grid">
                {% for car in cars %}
                <article class="gjs-t-border car-card">
                    <div class="car-image-container">
                        <img loading="lazy"
                             src="{{ url_for('static', filename=car.image_path) }}"
                             alt="{{ car.display_name }}"
                             width="600" height="400"
                             class="car-image"
                             onerror="this.src='{{ url_for('static', filename='img/default.jpg') }}'"/>
                    </div>
                    <div class="car-card-body">
                        <h3 class="car-model">{{ car.display_name }}</h3>
                        <p class="car-description">
                            {% if car.bodytype %}{{ car.bodytype|title }}{% endif %}
                            {% if car.fueltype %}| {{ car.fueltype|title }}{% endif %}
                            {% if car.veenginepower and car.veenginepower > 0 %}| {{ car.veenginepower|int }} HP{% endif
                            %}
                        </p>
                        <div class="car-price-row">
                            <span class="car-price">{{ car.price_display }}</span>
                            <button onclick='showCarInfo({{ car|tojson }})' class="gjs-t-button car-details-button"
                                    style="border: none; cursor: pointer;">
                                Chi ti·∫øt
                            </button>
                        </div>
                    </div>
                </article>
                {% endfor %}
            </div>
            {% if total_pages > 1 %}
            <div class="pagination-container"
                 style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-top: 40px;">
                {% if current_page > 1 %}
                <a href="{{ url_for('index', page=current_page-1) }}#listings" class="gjs-t-button pagination-btn">
                    ‚Üê Trang tr∆∞·ªõc
                </a>
                {% endif %}

                <div class="pagination-numbers" style="display: flex; gap: 5px;">
                    {% for p in range(1, total_pages + 1) %}
                    {% if p == current_page %}
                    <span class="page-number active"
                          style="padding: 10px 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 8px; font-weight: bold;">
                            {{ p }}
                        </span>
                    {% elif p <= 3 or p > total_pages - 3 or (p >= current_page - 1 and p <= current_page + 1) %}
                    <a href="{{ url_for('index', page=p) }}#listings" class="page-number"
                       style="padding: 10px 15px; background: #f0f0f0; color: #333; border-radius: 8px; text-decoration: none; transition: all 0.3s;">
                        {{ p }}
                    </a>
                    {% elif p == 4 or p == total_pages - 3 %}
                    <span style="padding: 10px 5px;">...</span>
                    {% endif %}
                    {% endfor %}
                </div>

                {% if current_page < total_pages %}
                <a href="{{ url_for('index', page=current_page+1) }}#listings" class="gjs-t-button pagination-btn">
                    Trang sau ‚Üí
                </a>
                {% endif %}
            </div>

            <p style="text-align: center; color: #666; margin-top: 20px;">
                Hi·ªÉn th·ªã {{ (current_page - 1) * 12 + 1 }} - {{ [current_page * 12, total_cars]|min }} / {{ total_cars
                }} xe
            </p>
            {% endif %}
        </div>
    </section>

    <!-- About Section -->
    <section id="ib1wv7" class="about-section">
        <div id="iz083x" class="about-container">
            <h2 id="inlxrd" class="gjs-t-h2 about-title">V·ªÅ ch√∫ng t√¥i</h2>
            <p id="i9n3rk" class="about-text">
                T·ª´ nƒÉm 2008, LND Car Store ƒë√£ k·∫øt n·ªëi ng∆∞·ªùi l√°i v·ªõi nh·ªØng chi·∫øc xe ƒë√°ng tin c·∫≠y v·ªõi gi√° c·∫£ h·ª£p l√Ω.
                ƒê·ªôi ng≈© c·ªßa ch√∫ng t√¥i tuy·ªÉn ch·ªçn t·ª´ng chi·∫øc xe, ƒë·∫£m b·∫£o ƒë√°p ·ª©ng ti√™u chu·∫©n v·ªÅ an to√†n v√† hi·ªáu su·∫•t.
            </p>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div id="i2i6q4" class="contact-container">
            <div id="i4lo5k" class="contact-details-column">
                <h2 id="ixe84b" class="gjs-t-h2 contact-title">Li√™n h·ªá</h2>
                <p id="iuiprz" class="contact-description">C√≥ c√¢u h·ªèi ho·∫∑c mu·ªën ƒë·∫∑t l·ªãch l√°i th·ª≠? Li√™n h·ªá ngay!</p>
                <div id="ixr0dx" class="contact-details-list">
                    <div id="iey44l" class="contact-detail-item">
                        <img src="https://api.iconify.design/lucide-phone.svg" alt="Phone" id="iseyc6"
                             class="contact-icon-phone"/>
                        <a href="tel:+1234567890" id="i8q7v4" class="gjs-t-link contact-phone-link">+1 (234) 567-890</a>
                    </div>
                    <div id="iou38k" class="contact-detail-item">
                        <img src="https://api.iconify.design/lucide-mail.svg" alt="Email" id="i4i9h9"
                             class="contact-icon-email"/>
                        <a href="mailto:sales@carstore.example" id="ipznhx" class="gjs-t-link contact-email-link">sales@carstore.example</a>
                    </div>
                </div>
            </div>
            <form method="post" action="{{ url_for('index') }}#contact" id="if9c4w" class="gjs-t-border contact-form">
                <div id="i02o1u" class="form-field-name">
                    <label for="name" id="i09l5c" class="label-name">H·ªç t√™n</label>
                    <input type="text" id="name" name="name" required placeholder="Nguy·ªÖn VƒÉn A"
                           class="gjs-t-border input-name"/>
                </div>
                <div id="i97y42" class="form-field-email">
                    <label for="email" id="id23cd" class="label-email">Email</label>
                    <input type="email" id="email" name="email" required placeholder="email@example.com"
                           class="gjs-t-border input-email"/>
                </div>
                <div id="ihd8kf" class="form-field-message">
                    <label for="message" id="ijdjn1" class="label-message">Tin nh·∫Øn</label>
                    <textarea id="message" name="message" rows="5" required
                              placeholder="Cho ch√∫ng t√¥i bi·∫øt nhu c·∫ßu c·ªßa b·∫°n"
                              class="gjs-t-border textarea-message"></textarea>
                </div>
                <button type="submit" id="ilx7mv" class="gjs-t-button submit-button">G·ª≠i tin</button>
            </form>
        </div>
    </section>
    <!-- JavaScript for search -->
    <script>


        (function () {
            const form = document.getElementById('hsb-search-form');
            const input = document.getElementById('hsb-search-input');
            const clearLink = document.getElementById('hsb-search-clear');
            const summary = document.getElementById('hsb-search-summary');
            const noResults = document.getElementById('hsb-no-results');

            function filterCards(query) {
                const q = (query || '').trim().toLowerCase();
                const cards = document.querySelectorAll('.car-card');
                let shown = 0;

                cards.forEach(card => {
                    const text = card.textContent.toLowerCase();
                    const match = !q || text.includes(q);
                    card.style.display = match ? '' : 'none';
                    if (match) shown++;
                });

                if (summary) {
                    summary.textContent = q ? `Hi·ªÉn th·ªã ${shown} k·∫øt qu·∫£ cho "${query.trim()}"` : '';
                }
                if (noResults) {
                    noResults.style.display = q && shown === 0 ? 'block' : 'none';
                }
            }

            form.addEventListener('submit', e => {
                e.preventDefault();
                filterCards(input.value);
            });

            input.addEventListener('input', () => filterCards(input.value));

            clearLink.addEventListener('click', e => {
                e.preventDefault();
                input.value = '';
                filterCards('');
                input.focus();
            });

            filterCards('');
        })();
    </script>
</main>

<footer class="site-footer">
    <div class="footer-inner">
        <div class="footer-brand">
            <div class="footer-brand-mark"><span class="footer-brand-initials">CS</span></div>
            <span class="footer-brand-name">LND Store</span>
        </div>
        <div class="footer-links">
            <a href="{{ url_for('index') }}" class="gjs-t-link footer-link-home">Trang ch·ªß</a>
            <a href="{{ url_for('index') }}#listings" class="gjs-t-link footer-link-cars">Xe</a>
            <a href="{{ url_for('index') }}#contact" class="gjs-t-link footer-link-contact">Li√™n h·ªá</a>
        </div>
        <small class="footer-copyright">¬© 2025 Car Store. All rights reserved.</small>
    </div>
</footer>


<!-- Modal th√¥ng tin xe -->
<div id="car-modal"
     style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 9999; padding: 20px;">
    <div style="max-width: 600px; margin: 50px auto; background: white; border-radius: 15px; padding: 30px; position: relative; box-shadow: 0 10px 50px rgba(0,0,0,0.3);">
        <button onclick="closeModal()"
                style="position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 30px; cursor: pointer; color: #999;">
            &times;
        </button>
        <div id="car-info"></div>
    </div>
</div>

<script>
    function showCarInfo(car) {
        const modal = document.getElementById('car-modal');
        const info = document.getElementById('car-info');

        info.innerHTML = `
            <img src="/static/${car.image_path}" alt="${car.display_name}"
                 style="width: 100%; border-radius: 10px; margin-bottom: 20px;"
                 onerror="this.src='/static/img/default.jpg'"/>

            <h2 style="margin: 0 0 10px 0; color: #333;">${car.display_name}</h2>
            <p style="font-size: 28px; font-weight: bold; color: #667eea; margin-bottom: 20px;">${car.price_display}</p>

            <table style="width: 100%; border-collapse: collapse;">
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 10px 0; font-weight: bold;">Lo·∫°i xe:</td>
                    <td style="padding: 10px 0;">${car.bodytype || 'N/A'}</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 10px 0; font-weight: bold;">Nhi√™n li·ªáu:</td>
                    <td style="padding: 10px 0;">${car.fueltype || 'N/A'}</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 10px 0; font-weight: bold;">C√¥ng su·∫•t:</td>
                    <td style="padding: 10px 0;">${car.veenginepower ? Math.round(car.veenginepower) + ' HP' : 'N/A'}</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 10px 0; font-weight: bold;">Ti√™u th·ª•:</td>
                    <td style="padding: 10px 0;">${car.fuelconsumption ? parseFloat(car.fuelconsumption).toFixed(1) + ' L/100km' : 'N/A'}</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 10px 0; font-weight: bold;">S·ªë ch·ªó ng·ªìi:</td>
                    <td style="padding: 10px 0;">${car.seatingcapacity || 'N/A'}</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 10px 0; font-weight: bold;">T·ªëc ƒë·ªô t·ªëi ƒëa:</td>
                    <td style="padding: 10px 0;">${car.speed || 'N/A'} km/h</td>
                </tr>
                <tr>
                    <td style="padding: 10px 0; font-weight: bold;">Kh√≠ th·∫£i CO2:</td>
                    <td style="padding: 10px 0;">${car.emissionsco2 || 'N/A'} g/km</td>
                </tr>
            </table>

            <button onclick="closeModal()" style="width: 100%; padding: 15px; margin-top: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; font-size: 16px; cursor: pointer;">
                ƒê√≥ng
            </button>
        `;

        modal.style.display = 'block';
    }

    function closeModal() {
        document.getElementById('car-modal').style.display = 'none';
    }

    // ƒê√≥ng khi click b√™n ngo√†i
    document.getElementById('car-modal')?.addEventListener('click', function(e) {
        if (e.target === this) closeModal();
    });
</script>
<script>
    // Toggle user dropdown menu
    document.getElementById('user-menu-btn')?.addEventListener('click', function(e) {
        e.stopPropagation();
        const dropdown = document.getElementById('user-dropdown');
        dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
    });

    // ƒê√≥ng dropdown khi click b√™n ngo√†i
    document.addEventListener('click', function() {
        const dropdown = document.getElementById('user-dropdown');
        if (dropdown) dropdown.style.display = 'none';
    });
</script>
</body>
</html>